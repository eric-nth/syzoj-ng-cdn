(self["webpackJsonpsyzoj-ng-app"]=self["webpackJsonpsyzoj-ng-app"]||[]).push([[173],{1554:function(e,a,t){"use strict";t.r(a);var s=t(10),c=t.n(s),n=t(29),r=t(19),i=t(179),j=t(15),l=t(1),o=t(0),m=t(602),d=t(1790),b=t(99),h=t(1803),O=t(1701),u=t(618),x=t(1733),p=t(1796),f=t(55),v=t(1555),g=t.n(v),N=t(1556),w=t.n(N),y=t(9),k=t(181),_=t(22),I=t(864),S=t(733),q=t(183),F=t(686),W=t(37),z=t(109),C=t(771);function P(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone||""}catch(e){return""}}function D(e){return U.apply(this,arguments)}function U(){return(U=Object(j.a)(c.a.mark((function e(a){var t,s,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Date,e.next=3,k.c.user.getUserDetail(Object(n.a)(Object(n.a)({},a),{},{timezone:P(),now:t.toISOString()}));case 3:if(s=e.sent,r=s.requestError,i=s.response,!r){e.next=10;break}throw new q.a(r,{showRefresh:!0,showBack:!0});case 10:if(!i.error){e.next=12;break}throw new q.a(Object(W.c)("user.error.".concat(i.error)));case 12:return e.abrupt("return",[t,i]);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var A=function(e){var a=Object(_.i)("user"),t=g()(e.now).startOf("day"),s=Number(a(".subway_graph.start_of_week"))||1,c=((7-(t.day()-s+1))%7+7)%7,n=e.data.slice(e.data.length-(371-c)),r=Object(i.a)(new Array(53).keys()).map((function(e){return n.slice(7*e,7*(e+1))})),j=t.subtract(371-c-1,"day"),o=Object(i.a)(new Array(53).keys()).map((function(e){return j.add(7*e,"day")})),h=o.map((function(e){return e.month()+1}));return Object(l.jsx)(m.a,{className:w.a.subwayGraphSegment,children:Object(l.jsxs)("div",{className:w.a.graphWrapper,children:[Object(l.jsxs)("div",{className:w.a.graph,children:[Object(l.jsxs)("div",{className:w.a.weeks,children:[Object(l.jsx)("div",{}),Object(i.a)(new Array(7).keys()).map((function(e){return Object(l.jsx)("div",{className:w.a.label,children:a(".subway_graph.week.".concat((e+s)%7||7))},e)}))]}),r.map((function(e,t){return Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{className:w.a.label,children:(0===t?h[2]==h[0]:h[t]!=h[t-1])&&a(".subway_graph.month.".concat(h[t]))}),e.map((function(e,s){return Object(l.jsx)("div",{"data-level":(c=e,[1,10,20,25,1/0].findIndex((function(e){return c<e}))),children:Object(l.jsx)(d.a,{trigger:Object(l.jsx)("div",{}),content:Object(l.jsxs)("span",{className:w.a.subwayGraphPopup,children:[Object(l.jsx)("span",{className:w.a.submissions,children:e?a(1===e?".subway_graph.popup.submission":".subway_graph.popup.submissions",{count:e.toString()}):a(".subway_graph.popup.no_submissions")}),Object(l.jsx)("span",{className:w.a.date,children:a.formatDate(o[t].add(s,"day").toDate())})]}),size:"small",inverted:!0,on:"hover",position:"top center"})},s);var c}))]},t)}))]}),Object(l.jsxs)("div",{className:w.a.footer,children:[Object(l.jsxs)(_.a,{className:w.a.link,href:{pathname:"/s",query:{submitter:e.username}},children:[Object(l.jsx)(b.a,{name:"search"}),a(".subway_graph.link")]}),Object(l.jsxs)("div",{className:w.a.legend,children:[Object(l.jsx)("span",{children:a(".subway_graph.legend.less")}),Object(l.jsx)("div",{"data-level":"0",children:Object(l.jsx)("div",{})}),Object(l.jsx)("div",{"data-level":"1",children:Object(l.jsx)("div",{})}),Object(l.jsx)("div",{"data-level":"2",children:Object(l.jsx)("div",{})}),Object(l.jsx)("div",{"data-level":"3",children:Object(l.jsx)("div",{})}),Object(l.jsx)("div",{"data-level":"4",children:Object(l.jsx)("div",{})}),Object(l.jsx)("span",{children:a(".subway_graph.legend.more")})]})]})]})})},B=function(e){var a=Object(_.i)("user");Object(o.useEffect)((function(){y.a.enterNewPage("".concat(e.meta.username),"members")}),[y.a.locale,e.meta]);var t=Object(_.m)(0,768),s=Object(l.jsx)("div",{className:w.a.avatar,children:Object(l.jsx)("div",{children:Object(l.jsx)(S.a,{userAvatar:e.meta.avatar,imageSize:260})})}),c=Object(l.jsxs)(l.Fragment,{children:[e.meta.nickname?Object(l.jsx)(z.a,{children:Object(l.jsx)(h.a,{as:"h1",className:w.a.nickname,content:e.meta.nickname})}):null,Object(l.jsx)("div",{className:w.a.username,children:e.meta.username}),e.meta.bio&&Object(l.jsx)(z.a,{children:Object(l.jsx)("p",{className:w.a.bio,children:y.a.serverPreference.misc.renderMarkdownInUserBio?Object(l.jsx)(C.default,{content:e.meta.bio,dontUseContentFont:!0}):e.meta.bio})})]}),n=Object(l.jsxs)(l.Fragment,{children:[t?Object(l.jsxs)(O.a,{children:[Object(l.jsx)(O.a.Column,{className:w.a.cardSide+" "+w.a.cardSideAvatar,width:5,children:s}),Object(l.jsx)(O.a.Column,{className:w.a.cardSide+" "+w.a.cardSideMeta,width:11,children:Object(l.jsx)("div",{children:c})})]}):Object(l.jsxs)(l.Fragment,{children:[s,c]}),e.hasPrivilege?Object(l.jsx)(u.a,{className:w.a.editProfileButton,fluid:!0,content:a(".edit_profile"),as:_.a,href:"edit/profile"}):!t&&Object(l.jsx)(x.a,{className:w.a.editProfileButton}),Object(l.jsxs)(p.a,{className:w.a.informationList,children:[Object(l.jsxs)(p.a.Item,{className:w.a.item,children:[Object(l.jsx)("div",{className:w.a.iconWrapper,children:Object(l.jsx)(b.a,{name:"time"})}),Object(l.jsxs)("span",{title:"",children:[a(".joined"),Object(I.a)(a.formatDate(e.meta.registrationTime,{year:"numeric",month:"long",day:"numeric"}))]})]}),e.information.organization&&Object(l.jsxs)(p.a.Item,{className:w.a.item,children:[Object(l.jsx)("div",{className:w.a.iconWrapper,children:Object(l.jsx)(b.a,{name:"users"})}),Object(l.jsx)("span",{title:e.information.organization,children:e.information.organization})]}),e.information.location&&Object(l.jsxs)(p.a.Item,{className:w.a.item,children:[Object(l.jsx)("div",{className:w.a.iconWrapper,children:Object(l.jsx)(b.a,{name:"map marker alternate"})}),Object(l.jsx)("span",{title:e.information.location,children:e.information.location})]}),e.information.url&&Object(l.jsxs)(p.a.Item,{className:w.a.item,children:[Object(l.jsx)("div",{className:w.a.iconWrapper,children:Object(l.jsx)(b.a,{name:"linkify"})}),Object(l.jsx)("a",{href:e.information.url,title:e.information.url,target:"_blank",rel:"noreferrer noopener",children:e.information.url})]})]}),Object(l.jsxs)("div",{className:w.a.socialIcons,children:[e.meta.email&&Object(l.jsx)("a",{className:w.a.socialIcon,href:"mailto:".concat(e.meta.email),title:a(".social.email"),target:"_blank",rel:"noreferrer noopener",children:Object(l.jsx)(b.a,{name:"mail"})}),e.information.qq&&Object(l.jsx)("a",{className:w.a.socialIcon,href:"https://wpa.qq.com/msgrd?V=3&Uin=".concat(e.information.qq),title:a(".social.qq"),target:"_blank",rel:"noreferrer noopener",children:Object(l.jsx)(b.a,{name:"qq"})}),e.information.telegram&&Object(l.jsx)("a",{className:w.a.socialIcon,href:"https://t.me/".concat(e.information.telegram),title:a(".social.telegram"),target:"_blank",rel:"noreferrer noopener",children:Object(l.jsx)(b.a,{name:"telegram"})}),e.information.github&&Object(l.jsx)("a",{className:w.a.socialIcon,href:"https://github.com/".concat(e.information.github),title:a(".social.github"),target:"_blank",rel:"noreferrer noopener",children:Object(l.jsx)(b.a,{name:"github"})})]})]}),r=[Object(l.jsxs)("div",{className:w.a.item,children:[Object(l.jsx)("div",{className:w.a.iconWrapper,children:Object(l.jsx)(b.a,{name:"checkmark"})}),Object(l.jsx)("span",{className:w.a.key,children:a(".statictics.ac_count")}),Object(l.jsx)("span",{className:w.a.value,children:e.meta.acceptedProblemCount})]}),Object(l.jsxs)("div",{className:w.a.item,children:[Object(l.jsx)("div",{className:w.a.iconWrapper,children:Object(l.jsx)(b.a,{name:"calendar"})}),Object(l.jsx)("span",{className:w.a.key,children:a(".statictics.contest_take_part_count")}),Object(l.jsx)("span",{className:w.a.value,children:0})]}),Object(l.jsxs)("div",{className:w.a.item,children:[Object(l.jsx)("div",{className:w.a.iconWrapper,children:Object(l.jsx)(b.a,{name:"star"})}),Object(l.jsx)("span",{className:w.a.key,children:a(".statictics.rating")}),Object(l.jsx)("span",{className:w.a.value,children:e.meta.rating})]}),Object(l.jsxs)("div",{className:w.a.item,children:[Object(l.jsx)("div",{className:w.a.iconWrapper,children:Object(l.jsx)(b.a,{name:"signal"})}),Object(l.jsx)("span",{className:w.a.key,children:a(".statictics.rank")}),Object(l.jsx)("span",{className:w.a.value,children:e.rank})]})],i=Object(l.jsxs)(l.Fragment,{children:[!t&&Object(l.jsx)(A,{username:e.meta.username,now:e.now,data:e.submissionCountPerDay}),t?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(m.a,{attached:"top",className:w.a.firstStatisticsSegment,children:Object(l.jsxs)("div",{className:w.a.statictics,children:[r[0],r[1]]})}),Object(l.jsx)(m.a,{attached:!0,children:Object(l.jsxs)("div",{className:w.a.statictics,children:[r[2],r[3]]})})]}):Object(l.jsx)(m.a,{attached:"top",children:Object(l.jsxs)("div",{className:w.a.statictics,children:[r[0],r[1],r[2],r[3]]})}),Object(l.jsx)(m.a,{className:w.a.ratingSegment,attached:"bottom",children:Object(l.jsx)(m.a,{placeholder:!0,className:w.a.placeholder,children:"Rating Graph"})})]});return Object(l.jsx)(l.Fragment,{children:t?Object(l.jsxs)(l.Fragment,{children:[n,i]}):Object(l.jsxs)(O.a,{children:[Object(l.jsx)(O.a.Column,{width:4,children:n}),Object(l.jsx)(O.a.Column,{width:12,children:i})]})})};B=Object(f.a)(B),a.default={byId:Object(q.c)(function(){var e=Object(j.a)(c.a.mark((function e(a){var t,s,i,j,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=parseInt(a.params.userId)||0,e.next=3,D({userId:t});case 3:return s=e.sent,i=Object(r.a)(s,2),j=i[0],o=i[1],e.abrupt("return",Object(l.jsx)(B,Object(n.a)({now:j},o)));case 8:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()),byUsername:Object(q.c)(function(){var e=Object(j.a)(c.a.mark((function e(a){var t,s,i,j,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.params.username,Object(F.f)(t)){e.next=3;break}throw new q.a(Object(W.c)("user.error.NO_SUCH_USER"));case 3:return e.next=5,D({username:t});case 5:return s=e.sent,i=Object(r.a)(s,2),j=i[0],o=i[1],e.abrupt("return",Object(l.jsx)(B,Object(n.a)({now:j},o)));case 10:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}())}}}]);
//# sourceMappingURL=173.a3747d5a.chunk.js.map