(self["webpackJsonpsyzoj-ng-app"]=self["webpackJsonpsyzoj-ng-app"]||[]).push([[158],{1696:function(e,t,n){"use strict";n.r(t);var r=n(10),a=n.n(r),c=n(29),i=n(15),s=n(19),u=n(1),l=n(0),o=n.n(l),b=n(55),d=n(22),j=n(851),f=n(904),m=n(1792),h=n(1803),p=n(618),O=n(1650),g=n.n(O),v=n(1016),x=function(e){var t=Object(d.i)("problem");return Object(u.jsxs)(m.a,{children:[Object(u.jsxs)("div",{className:g.a.flexContainer,children:[Object(u.jsx)(h.a,{size:"small",content:t(".submit.upload_files")}),Object(u.jsx)(p.a,{disabled:e.disabled,onClick:function(){return Object(v.a)(e.onChange,e.accept.join(", "))},content:t(".submit.choose_files")})]}),Object(u.jsx)("div",{className:g.a.message,children:e.message})]})},w=x=Object(b.a)(x),_=n(601),C=n(901),S=n(1651),y=n.n(S),k=n(756),N=n(1652),F=n.n(N),E=function(e){var t=Object(d.c)("width"),n=Object(s.a)(t,2),r=n[0],a=n[1],c=Object(d.c)("height"),i=Object(s.a)(c,2),o=i[0],b=i[1],j=Object(l.useRef)();if(!j.current){var f=document.createElement("div");f.style.overflowY="scroll",f.style.width=f.style.height="100px",f.style.position="fixed",f.style.top=f.style.left="-1000px",j.current=f}var m=Object(l.useState)(0),h=Object(s.a)(m,2),p=h[0],O=h[1];return Object(l.useEffect)((function(){function e(){var e=j.current;e.parentNode||(document.body.appendChild(e),O(e.offsetWidth-e.clientWidth),document.body.removeChild(e))}return e(),window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}})),Object(u.jsx)("div",{className:F.a.outerWrapper+(e.className?" "+e.className:""),ref:a,style:{height:o},children:Object(u.jsx)("div",{className:F.a.middleWrapper,style:{width:o+p,height:r,top:-p},children:Object(u.jsx)("div",{className:F.a.innerWrapper,ref:b,children:e.children})})})},V=n(109),W=function(e){Object(d.i)("problem");var t=Object(l.useRef)();t.current=e.onChange;var n=Object(l.useRef)(e.tabs.map((function(e,n){var r=C.editor.createModel(e.initialContent,e.language);return r.onDidChangeContent((function(){return t.current(n,r.getValue())})),{model:r,viewState:null}})));e.refSetValue&&(e.refSetValue.current=function(e,t){return n.current[e].model.setValue(t)});var r=Object(l.useRef)();var a=Object(l.useState)(0),c=Object(s.a)(a,2),i=c[0],o=c[1];return Object(u.jsxs)("div",{className:y.a.tabbedEditor,children:[Object(u.jsx)(E,{className:y.a.tabMenuContainer,children:Object(u.jsx)(_.a,{secondary:!0,className:y.a.tabMenu,children:e.tabs.map((function(e,t){return Object(u.jsx)(V.a,{children:Object(u.jsx)(_.a.Item,{active:i===t,icon:e.icon,content:e.title,onClick:function(){var e;(e=t)!==i&&(n.current[i].viewState=r.current.saveViewState(),r.current.setModel(n.current[e].model),r.current.restoreViewState(n.current[e].viewState),o(e))}})},t)}))})}),Object(u.jsx)("div",{className:y.a.wrapper,children:Object(u.jsx)(k.a,{editorDidMount:function(e){var t;r.current=e,e.setModel(null===(t=n.current[0])||void 0===t?void 0:t.model)},value:null,language:null})})]})},z=W=Object(b.a)(W),M=n(755),R=n(1017),D=n(905),L=[".zip"],q=function(e){var t=Object(d.i)("problem"),n=e.judgeInfo.subtasks.map((function(e){return e.testcases.map((function(e){return e.userOutputFilename||e.outputFile}))})).flat(),r=Object(l.useState)([]),o=Object(s.a)(r,2),b=o[0],m=o[1],h=1===b.length&&L.some((function(e){return b[0].name.toLowerCase().endsWith(e)})),p=b.filter((function(e){return n.includes(e.name)})),O=Object(l.useState)(Array(n.length).fill("")),g=Object(s.a)(O,2),v=g[0],x=g[1],_=v.some((function(e){return e}));function C(){return(C=Object(i.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!h){e.next=4;break}return e.abrupt("return",b[0]);case 4:if(!(p.length>0)){e.next=10;break}return e.next=7,Object(R.a)({start:function(e){p.forEach((function(t){return e.enqueue(t)})),e.close()}});case 7:return e.abrupt("return",e.sent);case 10:if(!_){e.next=16;break}return e.next=13,Object(R.a)({start:function(e){n.forEach((function(t,n){return e.enqueue(new File([v[n]],t))})),e.close()}});case 13:return e.abrupt("return",e.sent);case 16:throw new TypeError("This should not happen.");case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var S=Object(l.useRef)();function y(){n.map((function(e,t){return S.current(t,"")}))}return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(f.a,Object(c.a)(Object(c.a)({},e),{},{onGetSubmitFile:function(){return C.apply(this,arguments)},showSkipSamples:!1,mainContent:Object(u.jsx)(f.a.EditorWrapper,{disabled:b.length>0,children:Object(u.jsx)(z,{tabs:n.map((function(e){return{title:e,icon:Object(j.a)(e),language:null,initialContent:""}})),refSetValue:S,onChange:function(e,t){var n=v.slice(0);n[e]=t,x(n)}})}),sidebarContent:Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(w,{accept:n,disabled:_,message:function(){var e=Object(u.jsx)(M.a,{onClick:function(){return m([])},children:t(".submit.cancel_select_files")});return h?Object(u.jsxs)(u.Fragment,{children:[t(".submit.selected_archive"),e]}):b.length>0&&b.length!==p.length?Object(u.jsxs)(u.Fragment,{children:[t(".submit.selected_valid_files",{all:b.length,valid:p.length}),e]}):b.length>0?Object(u.jsxs)(u.Fragment,{children:[t(".submit.selected_files",{all:b.length}),e]}):_?Object(u.jsxs)(u.Fragment,{children:[t(".submit.clear_editor_to_use_upload_left"),Object(u.jsx)(M.a,{onClick:y,children:t(".submit.clear_editor")}),t(".submit.clear_editor_to_use_upload_right")]}):t(".submit.fill_in_editor_or_upload_file")}(),onChange:m})}),submitDisabled:!(h||p.length>0||_)}))})},I={Labels:o.a.memo((function(e){Object(d.i)("problem");return Object(u.jsx)(u.Fragment,{})})),SubmitView:q=Object(b.a)(q),getDefaultSubmissionContent:function(){return{}},isSubmittable:D.b,enableStatistics:function(){return!1}};t.default=I}}]);
//# sourceMappingURL=158.e5363e8f.chunk.js.map