(self["webpackJsonpsyzoj-ng-app"]=self["webpackJsonpsyzoj-ng-app"]||[]).push([[103],{1080:function(e,n,t){"use strict";var i=t(1),c=t(0),a=t(1792),r=t(1803),s=t(601),l=t(602),o=t(1725),u=t(55),m=t(1657),p=t.n(m),f=t(22),b=t(701),d=t(816),j=t(815),g=["integers","floats","lines","binary","custom"],h=["testlib","legacy","lemon","hustoj","qduoj","domjudge"];function O(e,n){if(!e||!g.includes(e.type))return{type:"lines",caseSensitive:!1};switch(e.type){case"integers":return{type:"integers"};case"floats":return{type:"floats",precision:Number.isSafeInteger(e.precision)&&e.precision>0?e.precision:4};case"lines":return{type:"lines",caseSensitive:!!e.caseSensitive};case"binary":return{type:"binary"};case"custom":var t=Object.values(b.a).includes(e.language)?e.language:Object.values(b.a)[0];return{type:"custom",interface:h.includes(e.interface)?e.interface:h[0],language:t,compileAndRunOptions:t===e.language?Object(b.e)(t,e.compileAndRunOptions):Object(b.g)(t),filename:e.filename&&"string"===typeof e.filename?e.filename:(n.find((function(e){return Object(b.c)(t,e.filename)}))||n[0]||{}).filename||"",timeLimit:Number.isSafeInteger(e.timeLimit)?e.timeLimit:null,memoryLimit:Number.isSafeInteger(e.memoryLimit)?e.memoryLimit:null}}}var y=function(e){var n=Object(f.i)("problem_judge_settings"),t=e.judgeInfo.checker;function u(n){e.onUpdateJudgeInfo((function(e){var t=e.checker;return{checker:Object.assign({},t,n)}}))}var m=Object(c.useRef)(new Map).current;return Object(i.jsxs)(a.a,{className:p.a.wrapper,children:[Object(i.jsxs)("div",{className:p.a.menuWrapper,children:[Object(i.jsx)(r.a,{size:"tiny",content:n(".checker.checker")}),Object(i.jsx)(s.a,{secondary:!0,pointing:!0,children:g.map((function(c){return Object(i.jsx)(s.a.Item,{content:n(".checker.types.".concat(c)),active:t.type===c,onClick:function(){return t.type!==c&&function(n){e.pending||n!==t.type&&(m.set(t.type,t),e.onUpdateJudgeInfo({checker:m.get(n)||O({type:n},e.testData)}))}(c)}},c)}))})]}),Object(i.jsx)(l.a,{color:"grey",className:p.a.checkerConfig,children:function(){var c,r;switch(t.type){case"integers":return null;case"floats":return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)(a.a.Field,{width:8,children:[Object(i.jsx)("label",{children:n(".checker.config.floats.precision")}),Object(i.jsx)(o.a,{value:t.precision,onChange:function(e,n){var t=n.value;return(""===t||Number.isSafeInteger(Number(t))&&Number(t)>0)&&u({precision:Number(t)})}})]}),Object(i.jsx)("div",{className:p.a.description,children:n(".checker.config.floats.description",{value:"1e-".concat(t.precision)})})]});case"lines":return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(a.a.Checkbox,{toggle:!0,label:n(".checker.config.lines.case_sensitive"),checked:t.caseSensitive,onChange:function(e,n){return u({caseSensitive:n.checked})}}),Object(i.jsx)("div",{className:p.a.description,children:n(".checker.config.lines.description")})]});case"binary":return null;case"custom":return Object(i.jsxs)("div",{className:p.a.custom,children:[Object(i.jsx)(d.a,{type:"FormSelect",label:n(".checker.config.custom.filename"),placeholder:n(".checker.config.custom.filename_no_file"),value:t.filename,testData:e.testData,onChange:function(e){return u({filename:e})}}),Object(i.jsxs)("div",{className:p.a.compileAndRunOptions,children:[Object(i.jsx)(a.a.Select,{label:n(".checker.config.custom.interface"),value:t.interface,options:h.map((function(e){return{key:e,value:e,text:n(".checker.config.custom.interfaces.".concat(e))}})),onChange:function(e,n){return u({interface:n.value})}}),Object(i.jsx)(j.a,{language:t.language,compileAndRunOptions:t.compileAndRunOptions,onUpdateLanguage:function(e){return u({language:e})},onUpdateCompileAndRunOptions:function(e){return u({compileAndRunOptions:e})}})]}),Object(i.jsxs)(a.a.Group,{children:[Object(i.jsxs)(a.a.Field,{width:8,children:[Object(i.jsx)("label",{children:n(".meta.time_limit")}),Object(i.jsx)(o.a,{className:p.a.labeledInput,placeholder:null!==(c=e.judgeInfo.timeLimit)&&void 0!==c?c:n(".meta.time_limit"),value:null==t.timeLimit?"":t.timeLimit,label:"ms",labelPosition:"right",icon:"clock",iconPosition:"left",onChange:function(e,n){var t=n.value;return(""===t||Number.isSafeInteger(Number(t))&&Number(t)>=0)&&u({timeLimit:""===t?null:Number(t)})}})]}),Object(i.jsxs)(a.a.Field,{width:8,children:[Object(i.jsx)("label",{children:n(".meta.memory_limit")}),Object(i.jsx)(o.a,{className:p.a.labeledInput,placeholder:null!==(r=e.judgeInfo.memoryLimit)&&void 0!==r?r:n(".meta.memory_limit"),value:null==t.memoryLimit?"":t.memoryLimit,label:"MiB",labelPosition:"right",icon:"microchip",iconPosition:"left",onChange:function(e,n){var t=n.value;return(""===t||Number.isSafeInteger(Number(t))&&Number(t)>=0)&&u({memoryLimit:""===t?null:Number(t)})}})]})]})]})}}()})]})};y=Object(u.a)(y);var v={parseJudgeInfo:function(e,n){return{checker:O(e.checker,n)}},normalizeJudgeInfo:function(e){"custom"===e.checker.type&&(null==e.checker.timeLimit&&delete e.checker.timeLimit,null==e.checker.memoryLimit&&delete e.checker.memoryLimit)}};n.a=Object.assign(y,v)}}]);
//# sourceMappingURL=103.df1d8863.chunk.js.map